import telebot
from telebot import types
import requests
from datetime import datetime as dt
from bs4 import BeautifulSoup
from random import choice
from dotenv import load_dotenv
import os


load_dotenv()
bot = telebot.TeleBot(token=os.getenv("BOT_TOKEN"))


questions = {
    'ancient': [
        {'question': '–ö–∞–∫–∞—è –¥—Ä–µ–≤–Ω—è—è —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç—Ä–æ–∏–ª–∞ –ø–∏—Ä–∞–º–∏–¥—ã –≤ –ì–∏–∑–µ?',
         'answers': ['–î—Ä–µ–≤–Ω—è—è –ì—Ä–µ—Ü–∏—è', '–î—Ä–µ–≤–Ω–∏–π –ï–≥–∏–ø–µ—Ç', '–î—Ä–µ–≤–Ω–∏–π –†–∏–º', '–ú–µ—Å–æ–ø–æ—Ç–∞–º–∏—è'],
         'right_answer': 2,
         'url': 'https://ethnomir.ru/upload/medialibrary/292/giza.jpg'},
        {'question': '–ö—Ç–æ –±—ã–ª –ø–µ—Ä–≤—ã–º –∏–º–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –î—Ä–µ–≤–Ω–µ–≥–æ –†–∏–º–∞?',
         'answers': ['–Æ–ª–∏–π –¶–µ–∑–∞—Ä—å', '–û–∫—Ç–∞–≤–∏–∞–Ω –ê–≤–≥—É—Å—Ç', '–ù–µ—Ä–æ–Ω', '–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π'],
         'right_answer': 2,
         'url': ''},
        {'question': '–ö–∞–∫–æ–µ –∏–∑ —ç—Ç–∏—Ö —á—É–¥–µ—Å —Å–≤–µ—Ç–∞ –¥—Ä–µ–≤–Ω–µ–≥–æ –º–∏—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ—Å—å –¥–æ –Ω–∞—à–∏—Ö –¥–Ω–µ–π?',
         'answers': ['–í–∏—Å—è—á–∏–µ —Å–∞–¥—ã –°–µ–º–∏—Ä–∞–º–∏–¥—ã', '–ö–æ–ª–æ—Å—Å –†–æ–¥–æ—Å—Å–∫–∏–π', '–ü–∏—Ä–∞–º–∏–¥–∞ –•–µ–æ–ø—Å–∞',
                     '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∏–π—Å–∫–∏–π –º–∞—è–∫'],
         'right_answer': 3,
         'url': ''},
        {'question': '–ö–∞–∫–æ–π –¥—Ä–µ–≤–Ω–∏–π –≥–æ—Ä–æ–¥ –±—ã–ª —Ä–∞–∑—Ä—É—à–µ–Ω –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏–∑–≤–µ—Ä–∂–µ–Ω–∏—è –≤—É–ª–∫–∞–Ω–∞ –í–µ–∑—É–≤–∏–π –≤ 79 –≥–æ–¥—É –Ω.—ç.?',
         'answers': ['–ê—Ñ–∏–Ω—ã', '–ü–æ–º–ø–µ–∏', '–ö–∞—Ä—Ñ–∞–≥–µ–Ω', '–í–∞–≤–∏–ª–æ–Ω'],
         'right_answer': 2,
         'url': ''},
        {'question': '–ö—Ç–æ –±—ã–ª –∞–≤—Ç–æ—Ä–æ–º "–ò–ª–∏–∞–¥—ã" –∏ "–û–¥–∏—Å—Å–µ–∏"?',
         'answers': ['–°–æ—Ñ–æ–∫–ª', '–ì–æ–º–µ—Ä', '–ì–µ—Ä–æ–¥–æ—Ç', '–ü–ª–∞—Ç–æ–Ω'],
         'right_answer': 2,
         'url': ''},
        {'question': '–ö–∞–∫–æ–π –º–∞—Ç–µ—Ä–∏–∞–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –¥—Ä–µ–≤–Ω–∏–µ –µ–≥–∏–ø—Ç—è–Ω–µ –¥–ª—è –ø–∏—Å—å–º–∞?',
         'answers': ['–ü–µ—Ä–≥–∞–º–µ–Ω—Ç', '–ì–ª–∏–Ω—è–Ω—ã–µ —Ç–∞–±–ª–∏—á–∫–∏', '–ë–∞–º–±—É–∫–æ–≤—ã–µ –¥–æ—â–µ—á–∫–∏', '–ü–∞–ø–∏—Ä—É—Å'],
         'right_answer': 4,
         'url': 'https://avatars.mds.yandex.net/i?id=20b986d86ed05d9a5faa290f0521bcdd_l-5283109-images-thumbs&n=13'},
        {'question': '–ö—Ç–æ –±—ã–ª –ø–æ—Å–ª–µ–¥–Ω–∏–º —Ñ–∞—Ä–∞–æ–Ω–æ–º –î—Ä–µ–≤–Ω–µ–≥–æ –ï–≥–∏–ø—Ç–∞ –ø–µ—Ä–µ–¥ –∑–∞–≤–æ–µ–≤–∞–Ω–∏–µ–º –†–∏–º–æ–º?',
         'answers': ['–¢—É—Ç–º–æ—Å III', '–†–∞–º–∑–µ—Å II', '–ö–ª–µ–æ–ø–∞—Ç—Ä–∞ VII', '–≠—Ö–Ω–∞—Ç–æ–Ω'],
         'right_answer': 3,
         'url': ''},
        {'question': '–ö—Ç–æ –±—ã–ª –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–º –ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º –í–∞–≤–∏–ª–æ–Ω–∞, —Å–æ–∑–¥–∞–≤—à–∏–º —Å–≤–æ–¥ –∑–∞–∫–æ–Ω–æ–≤ "–û–∫–æ –∑–∞ –æ–∫–æ"?',
         'answers': ['–ù–∞–≤—É—Ö–æ–¥–æ–Ω–æ—Å–æ—Ä II', '–•–∞–º–º—É—Ä–∞–ø–∏', '–°–∞—Ä–≥–æ–Ω –í–µ–ª–∏–∫–∏–π', '–ê—à—à—É—Ä–±–∞–Ω–∞–ø–∞–ª'],
         'right_answer': 2,
         'url': ''},
        {'question': '–ö–∞–∫–æ–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º –≤ –∏—Å—Ç–æ—Ä–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞?',
         'answers': ['–î—Ä–µ–≤–Ω–∏–π –ï–≥–∏–ø–µ—Ç', '–®—É–º–µ—Ä', '–î—Ä–µ–≤–Ω–∏–π –ö–∏—Ç–∞–π', '–î—Ä–µ–≤–Ω—è—è –ì—Ä–µ—Ü–∏—è'],
         'right_answer': 2,
         'url': ''},
        {'question': '–í –∫–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–µ –≤–æ–∑–Ω–∏–∫–ª–∞ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è –∫–æ–Ω—Ñ—É—Ü–∏–∞–Ω—Å—Ç–≤–∞?',
         'answers': ['–ò–Ω–¥–∏—è', '–ü–µ—Ä—Å–∏—è', '–ö–∏—Ç–∞–π', '–Ø–ø–æ–Ω–∏—è'],
         'right_answer': 3,
         'url': 'https://get.pxhere.com/photo/monument-statue-red-monk-asia-sculpture-art-figure-gold-temple-culture-china-stature-priest-stone-figure-confucius-temple-complex-buddah-666414.jpg'}
    ],
    'middle': [
        {'question': '–ö–∞–∫–æ–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —ç–ø–æ—Ö–∞ –°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å—è?',
         'answers': ['III‚ÄìX –≤–µ–∫–∞', 'X‚ÄìXVIII –≤–µ–∫–∞', 'V‚ÄìXV –≤–µ–∫–∞', 'I‚ÄìX –≤–µ–∫–∞'],
         'right_answer': 3,
         'url': ''},
        {'question': '–ö–∞–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞—á–∞–ª–æ–º –°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å—è?',
         'answers': ['–ü–∞–¥–µ–Ω–∏–µ –†–∏–º—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏', '–ö—Ä–µ—Å—Ç–æ–≤—ã–µ –ø–æ—Ö–æ–¥—ã', '–í–µ–ª–∏–∫–æ–µ –ø–µ—Ä–µ—Å–µ–ª–µ–Ω–∏–µ –Ω–∞—Ä–æ–¥–æ–≤',
                     '–û—Ç–∫—Ä—ã—Ç–∏–µ –ê–º–µ—Ä–∏–∫–∏'],
         'right_answer': 1,
         'url': ''},
        {'question': '–ö—Ç–æ –±—ã–ª –∫–æ—Ä–æ–ª—ë–º —Ñ—Ä–∞–Ω–∫–æ–≤, –∫–æ—Ä–æ–Ω–æ–≤–∞–Ω–Ω—ã–º –∏–º–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –≤ 800 –≥–æ–¥—É?',
         'answers': ['–†–∏—á–∞—Ä–¥ –õ—å–≤–∏–Ω–æ–µ –°–µ—Ä–¥—Ü–µ', '–ö–∞—Ä–ª –í–µ–ª–∏–∫–∏–π', '–í–∏–ª—å–≥–µ–ª—å–º –ó–∞–≤–æ–µ–≤–∞—Ç–µ–ª—å', '–õ—é–¥–æ–≤–∏–∫ IX'],
         'right_answer': 2,
         'url': 'https://images-bonnier.imgix.net/files/his/production/2020/12/01122946/Danevirke_Karl-den-Store.jpg?auto=compress,format&w=1024&fit=crop&crop'},
        {'question': '–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–ª–∞—Å—å —ç–ø–∏–¥–µ–º–∏—è, —É–Ω—ë—Å—à–∞—è –∂–∏–∑–Ω–∏ —Ç—Ä–µ—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –ï–≤—Ä–æ–ø—ã –≤ XIV –≤–µ–∫–µ?',
         'answers': ['–ò—Å–ø–∞–Ω–∫–∞', '–û—Å–ø–∞', '–ß—ë—Ä–Ω–∞—è —Å–º–µ—Ä—Ç—å', '–•–æ–ª–µ—Ä–∞'],
         'right_answer': 3,
         'url': ''},
        {'question': '–ö–∞–∫–æ–µ —Å–æ–æ—Ä—É–∂–µ–Ω–∏–µ –±—ã–ª–æ —Å–∏–º–≤–æ–ª–æ–º –º–æ–≥—É—â–µ—Å—Ç–≤–∞ —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—ã—Ö —Ñ–µ–æ–¥–∞–ª–æ–≤?',
         'answers': ['–°–æ–±–æ—Ä', '–ú–æ–Ω–∞—Å—Ç—ã—Ä—å', '–†–∞—Ç—É—à–∞', '–ó–∞–º–æ–∫'],
         'right_answer': 4,
         'url': ''},
        {'question': '–ö–∞–∫–æ–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ –±—ã–ª–æ –≥–ª–∞–≤–Ω—ã–º –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–º –í–∏–∑–∞–Ω—Ç–∏–∏ –≤ –°—Ä–µ–¥–Ω–∏–µ –≤–µ–∫–∞?',
         'answers': ['–°–≤—è—â–µ–Ω–Ω–∞—è –†–∏–º—Å–∫–∞—è –∏–º–ø–µ—Ä–∏—è', '–û—Å–º–∞–Ω—Å–∫–∞—è –∏–º–ø–µ—Ä–∏—è', '–ü–µ—Ä—Å–∏–¥—Å–∫–∞—è –∏–º–ø–µ—Ä–∏—è', '–ê—Ä–∞–±—Å–∫–∏–π —Ö–∞–ª–∏—Ñ–∞—Ç'],
         'right_answer': 2,
         'url': 'https://i.pinimg.com/736x/ec/7b/a1/ec7ba1306ea53db3741024863d8b42ca.jpg'},
        {
            'question': '–ö—Ç–æ –≤–æ–∑–≥–ª–∞–≤–∏–ª –ø–µ—Ä–≤—É—é —É—Å–ø–µ—à–Ω—É—é —ç–∫—Å–ø–µ–¥–∏—Ü–∏—é –∏–∑ –ï–≤—Ä–æ–ø—ã –≤ –ò–Ω–¥–∏—é –º–æ—Ä—Å–∫–∏–º –ø—É—Ç—ë–º?',
            'answers': ['–•—Ä–∏—Å—Ç–æ—Ñ–æ—Ä –ö–æ–ª—É–º–±', '–§–µ—Ä–Ω–∞–Ω –ú–∞–≥–µ–ª–ª–∞–Ω', '–í–∞—Å–∫–æ –¥–∞ –ì–∞–º–∞', '–ú–∞—Ä–∫–æ –ü–æ–ª–æ'],
            'right_answer': 3,
            'url': 'https://avatars.dzeninfra.ru/get-zen_doc/1640172/pub_6375fd1ed0e533762b581229_637600f46f26361dd672c495/scale_1200'
        },
        {
            'question': '–ö—Ç–æ –±—ã–ª –∫–æ—Ä–æ–ª—ë–º —Ä—ã—Ü–∞—Ä–µ–π –ö—Ä—É–≥–ª–æ–≥–æ —Å—Ç–æ–ª–∞ –≤ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –ª–µ–≥–µ–Ω–¥–∞—Ö?',
            'answers': ['–†–∏—á–∞—Ä–¥ –õ—å–≤–∏–Ω–æ–µ –°–µ—Ä–¥—Ü–µ', '–ö–æ—Ä–æ–ª—å –ê—Ä—Ç—É—Ä', '–ö–∞—Ä–ª –í–µ–ª–∏–∫–∏–π', '–í–∏–ª—å–≥–µ–ª—å–º –ó–∞–≤–æ–µ–≤–∞—Ç–µ–ª—å'],
            'right_answer': 2,
         'url': ''
        },
        {
            'question': '–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–ª–∏—Å—å –≤–æ–∏–Ω—ã –≤ –¥–æ—Å–ø–µ—Ö–∞—Ö, —Å–ª—É–∂–∏–≤—à–∏–µ —Å–µ–Ω—å–æ—Ä–∞–º?',
            'answers': ['–í–∏–∫–∏–Ω–≥–∏', '–†—ã—Ü–∞—Ä–∏', '–°–∞–º—É—Ä–∞–∏', '–õ–µ–≥–∏–æ–Ω–µ—Ä—ã'],
            'right_answer': 2,
         'url': ''
        },
        {
            'question': '–ö–∞–∫–æ–π –≥–æ—Ä–æ–¥ –±—ã–ª —Å—Ç–æ–ª–∏—Ü–µ–π –í–∏–∑–∞–Ω—Ç–∏–π—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏?',
            'answers': ['–†–∏–º', '–ê—Ñ–∏–Ω—ã', '–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–ø–æ–ª—å', '–ò–µ—Ä—É—Å–∞–ª–∏–º'],
            'right_answer': 3,
         'url': ''
        }],
    'new': [
        {'question': '–ö–∞–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞—á–∞–ª–æ–º —ç–ø–æ—Ö–∏ –ù–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏?',
         'answers': ['–í–µ–ª–∏–∫–∏–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è', '–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è', '–†–µ—Ñ–æ—Ä–º–∞—Ü–∏—è',
                     '–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –°–®–ê'],
         'right_answer': 1,
         'url': ''},
        {'question': '–ö—Ç–æ –±—ã–ª –ø–µ—Ä–≤—ã–º –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º –°–®–ê?',
         'answers': ['–¢–æ–º–∞—Å –î–∂–µ—Ñ—Ñ–µ—Ä—Å–æ–Ω', '–î–∂–æ—Ä–¥–∂ –í–∞—à–∏–Ω–≥—Ç–æ–Ω', '–ê–≤—Ä–∞–∞–º –õ–∏–Ω–∫–æ–ª—å–Ω', '–ë–µ–Ω–¥–∂–∞–º–∏–Ω –§—Ä–∞–Ω–∫–ª–∏–Ω'],
         'right_answer': 2,
         'url': 'https://avatars.mds.yandex.net/i?id=577aab1ff7355ea61fc3a2fd180a8e38_l-5234706-images-thumbs&n=13'},
        {'question': '–ö–∞–∫–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è –ø–æ–ª–æ–∂–∏–ª–∞ –Ω–∞—á–∞–ª–æ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–º—É –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç—É –≤ XVIII –≤–µ–∫–µ?',
         'answers': ['–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è', '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è', '–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è',
                     '–ù–∞—É—á–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è'],
         'right_answer': 3,
         'url': ''},
        {'question': '–ö—Ç–æ –Ω–∞–ø–∏—Å–∞–ª "–î–µ–∫–ª–∞—Ä–∞—Ü–∏—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –°–®–ê"?',
         'answers': ['–î–∂–æ—Ä–¥–∂ –í–∞—à–∏–Ω–≥—Ç–æ–Ω', '–¢–æ–º–∞—Å –î–∂–µ—Ñ—Ñ–µ—Ä—Å–æ–Ω', '–ë–µ–Ω–¥–∂–∞–º–∏–Ω –§—Ä–∞–Ω–∫–ª–∏–Ω', '–î–∂–æ–Ω –ê–¥–∞–º—Å'],
         'right_answer': 2,
         'url': ''},
        {'question': '–ö–∞–∫–æ–µ –∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –î–∂–µ–π–º—Å–∞ –£–∞—Ç—Ç–∞ —Å—Ç–∞–ª–æ —Å–∏–º–≤–æ–ª–æ–º –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —Ä–µ–≤–æ–ª—é—Ü–∏–∏?',
         'answers': ['–ü–∞—Ä–æ–≤–æ–π –¥–≤–∏–≥–∞—Ç–µ–ª—å', '–¢–∫–∞—Ü–∫–∏–π —Å—Ç–∞–Ω–æ–∫', '–¢–µ–ª–µ–≥—Ä–∞—Ñ', '–õ–æ–∫–æ–º–æ—Ç–∏–≤'],
         'right_answer': 1,
         'url': ''},
        {
            'question': '–ö–∞–∫–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è –ø—Ä–æ–∏–∑–æ—à–ª–∞ –≤–æ –§—Ä–∞–Ω—Ü–∏–∏ –≤ –∫–æ–Ω—Ü–µ XVIII –≤–µ–∫–∞?',
            'answers': ['–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è', '–ù–∞—É—á–Ω–∞—è', '–í–µ–ª–∏–∫–∞—è —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è', '–°–ª–∞–≤–Ω–∞—è'],
            'right_answer': 3,
         'url': 'https://assets.sutori.com/user-uploads/image/8ceed41c-4a82-4571-b603-38ff647d079f/eee07c14005c30b0526091c6abb52d45.jpeg'
        },
        {
            'question': '–ö–∞–∫–∞—è —Å—Ç—Ä–∞–Ω–∞ –ø–µ—Ä–≤–æ–π –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—É—é —Ä–µ–≤–æ–ª—é—Ü–∏—é?',
            'answers': ['–§—Ä–∞–Ω—Ü–∏—è', '–ì–µ—Ä–º–∞–Ω–∏—è', '–ê–Ω–≥–ª–∏—è', '–°–®–ê'],
            'right_answer': 3,
         'url': ''
        },
        {
            'question': '–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–ª–∞—Å—å —ç–ø–æ—Ö–∞ –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è –Ω–∞—É–∫–∏ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–∞ –≤ –ï–≤—Ä–æ–ø–µ?',
            'answers': ['–ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏–µ', '–†–µ–Ω–µ—Å—Å–∞–Ω—Å', '–†–µ—Ñ–æ—Ä–º–∞—Ü–∏—è', '–ë–∞—Ä–æ–∫–∫–æ'],
            'right_answer': 2,
         'url': ''
        },
        {
            'question': '–í –∫–∞–∫–æ–º –≥–æ–¥—É –±—ã–ª–∞ –ø—Ä–∏–Ω—è—Ç–∞ –î–µ–∫–ª–∞—Ä–∞—Ü–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –°–®–ê?',
            'answers': ['1776', '1789', '1812', '1492'],
            'right_answer': 1,
         'url': 'https://i.pinimg.com/736x/d3/75/f6/d375f6385846ba3abeb950faa52bdb8f.jpg'
        },
        {
            'question': '–ö–∞–∫–æ–π –≥–æ—Ä–æ–¥ —Å—Ç–∞–ª —Å—Ç–æ–ª–∏—Ü–µ–π –†–æ—Å—Å–∏–∏ –ø—Ä–∏ –ü–µ—Ç—Ä–µ I?',
            'answers': ['–ú–æ—Å–∫–≤–∞', '–ö–∏–µ–≤', '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', '–ù–æ–≤–≥–æ—Ä–æ–¥'],
            'right_answer': 3,
         'url': ''
        }
    ],
    'modern': [
        {
            'question': '–ö–∞–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞—á–∞–ª–æ–º –ü–µ—Ä–≤–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã?',
            'answers': ['–£–±–∏–π—Å—Ç–≤–æ —ç—Ä—Ü–≥–µ—Ä—Ü–æ–≥–∞ –§—Ä–∞–Ω—Ü–∞ –§–µ—Ä–¥–∏–Ω–∞–Ω–¥–∞', '–ë–æ–º–±–∞—Ä–¥–∏—Ä–æ–≤–∫–∞ –ü–µ—Ä–ª-–•–∞—Ä–±–æ—Ä–∞',
                        '–û–∫—Ç—è–±—Ä—å—Å–∫–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è',
                        '–ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –í–µ—Ä—Å–∞–ª—å—Å–∫–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞'],
            'right_answer': 1,
         'url': ''},
        {'question': '–ö—Ç–æ –±—ã–ª –ø–µ—Ä–≤—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º, –ø–æ–±—ã–≤–∞–≤—à–∏–º –≤ –∫–æ—Å–º–æ—Å–µ?',
         'answers': ['–ù–∏–ª –ê—Ä–º—Å—Ç—Ä–æ–Ω–≥', '–ê–ª–∞–Ω –®–µ–ø–∞—Ä–¥', '–í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –¢–µ—Ä–µ—à–∫–æ–≤–∞', '–Æ—Ä–∏–π –ì–∞–≥–∞—Ä–∏–Ω'],
         'right_answer': 4,
         'url': ''},
        {'question': '–í –∫–∞–∫–æ–º –≥–æ–¥—É –ø—Ä–æ–∏–∑–æ—à–ª–æ –ø–∞–¥–µ–Ω–∏–µ –ë–µ—Ä–ª–∏–Ω—Å–∫–æ–π —Å—Ç–µ–Ω—ã?',
         'answers': ['1985', '1989', '1991', '1975'],
         'right_answer': 2,
         'url': ''},
        {'question': '–ö–∞–∫–∞—è —Å—Ç—Ä–∞–Ω–∞ –ø–µ—Ä–≤–æ–π –∑–∞–ø—É—Å—Ç–∏–ª–∞ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø—É—Ç–Ω–∏–∫ –ó–µ–º–ª–∏?',
         'answers': ['–°–®–ê', '–ö–∏—Ç–∞–π', '–§—Ä–∞–Ω—Ü–∏–π', '–°–°–°–†'],
         'right_answer': 4,
         'url': 'https://avatars.yandex.net/get-music-content/13663712/a1dc327e.a.33122247-1/m1000x1000?webp=false'},
        {'question': '–ö–∞–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ 24 –∞–≤–≥—É—Å—Ç–∞ 2006 –≥–æ–¥–∞?',
         'answers': ['–õ–∏—à–µ–Ω–∏–µ –ü–ª—É—Ç–æ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞–Ω–µ—Ç—ã', '–°–æ–∑–¥–∞–Ω–∏–µ YouTube', '–ó–∞–ø—É—Å–∫ –ø–µ—Ä–≤–æ–≥–æ iPhone',
                     '–°–æ–∑–¥–∞–Ω–∏–µ Bitcoin'],
         'right_answer': 1,
         'url': ''},
        {'question': (
            '–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –≤ 1919 ‚Äî 1920 –≥–æ–¥–∞—Ö —Å —Ü–µ–ª—å—é –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≤–æ–µ–Ω–Ω—ã—Ö'
            ' –¥–µ–π—Å—Ç–≤–∏–π –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –º–∏—Ä–µ?'),
         'answers': ['–ù–ê–¢–û', '–Æ–ù–ï–°–ö–û', '–õ–∏–≥–∞ –ù–∞—Ü–∏–π', '–û–û–ù'],
         'right_answer': 3,
         'url': 'https://cdn.am.sputniknews.ru/img/160/33/1603352_509:0:3766:2047_1920x0_80_0_0_1f3fb1edd2cd0a69001b664771ef550b.jpg'},
        {
            'question': '–ö–∞–∫–æ–π –¥–æ–≥–æ–≤–æ—Ä –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª –ü–µ—Ä–≤—É—é –º–∏—Ä–æ–≤—É—é –≤–æ–π–Ω—É?',
            'answers': ['–ü–æ—Ç—Å–¥–∞–º—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ', '–ë—Ä–µ—Å—Ç-–õ–∏—Ç–æ–≤—Å–∫–∏–π –º–∏—Ä',
                        '–Ø–ª—Ç–∏–Ω—Å–∫–∞—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è', '–í–µ—Ä—Å–∞–ª—å—Å–∫–∏–π –º–∏—Ä'],
            'right_answer': 4,
         'url': ''
        },
        {
            'question': '–ö–∞–∫–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω –ø–µ—Ä–≤—ã–º –ø–æ–ª—É—á–∏–ª —Å–µ–Ω—Å–æ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω?',
            'answers': ['iPhone', 'IBM Simon', 'Nokia 3310', 'Motorola Razr'],
            'right_answer': 2,
         'url': ''
        },
{
            'question': '–ö–∞–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∞ ChatGPT?',
            'answers': ['OpenAI', 'Google', 'Yandex', 'Apple'],
            'right_answer': 1,
         'url': 'https://upload.wikimedia.org/wikipedia/commons/1/13/ChatGPT-Logo.png'
        },
{
    'question': '–ö–∞–∫–æ–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –ù–ï –≤ 2023 –≥–æ–¥—É?',
    'answers': [
        '–ö–æ—Ä–æ–Ω–∞—Ü–∏—è –ö–∞—Ä–ª–∞ III', '–ó–∞–ø—É—Å–∫ ChatGPT 4', '–û–ª–∏–º–ø–∏–π—Å–∫–∏–µ –∏–≥—Ä—ã –≤ –ü–∞—Ä–∏–∂–µ',
        '–ü–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ Starship –ò–ª–æ–Ω–∞ –ú–∞—Å–∫–∞'],
    'right_answer': 3,
    'url': '' }
] }

historical_figures = {
    '–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π': '–ê–≤—Ç–æ—Ä —Ä–æ–º–∞–Ω–∞ "–í–æ–π–Ω–∞ –∏ –º–∏—Ä"',
    '–ù–∞–ø–æ–ª–µ–æ–Ω –ë–æ–Ω–∞–ø–∞—Ä—Ç': '–ò–º–ø–µ—Ä–∞—Ç–æ—Ä –§—Ä–∞–Ω—Ü–∏–∏, –ø—Ä–æ—Å–ª–∞–≤–∏–≤—à–∏–π—Å—è –∑–∞–≤–æ–µ–≤–∞–Ω–∏—è–º–∏ –≤ –ï–≤—Ä–æ–ø–µ',
    '–ò–≤–∞–Ω –ì—Ä–æ–∑–Ω—ã–π': '–ü–µ—Ä–≤—ã–π —Ä—É—Å—Å–∫–∏–π —Ü–∞—Ä—å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ–ª —Ä–µ—Ñ–æ—Ä–º—ã –∏ —Ä–∞—Å—à–∏—Ä–∏–ª —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –†–æ—Å—Å–∏–∏',
    '–ö–ª–µ–æ–ø–∞—Ç—Ä–∞': '–ü–æ—Å–ª–µ–¥–Ω—è—è —Ü–∞—Ä–∏—Ü–∞ –ï–≥–∏–ø—Ç–∞, –∏–∑–≤–µ—Å—Ç–Ω–∞—è —Å–≤–æ–∏–º–∏ —Å–æ—é–∑–∞–º–∏ —Å –†–∏–º–æ–º',
    '–ê–ª—å–±–µ—Ä—Ç –≠–π–Ω—à—Ç–µ–π–Ω': '–°–æ–∑–¥–∞—Ç–µ–ª—å —Ç–µ–æ—Ä–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',
    '–•—Ä–∏—Å—Ç–æ—Ñ–æ—Ä –ö–æ–ª—É–º–±': '–ú–æ—Ä–µ–ø–ª–∞–≤–∞—Ç–µ–ª—å, –æ—Ç–∫—Ä—ã–≤—à–∏–π –ù–æ–≤—ã–π –°–≤–µ—Ç (–ê–º–µ—Ä–∏–∫—É)',
    '–ß–∞—Ä–ª—å–∑ –î–∞—Ä–≤–∏–Ω': '–£—á—ë–Ω—ã–π, –ø—Ä–∏—à–µ–¥—à–∏–π –∫ –≤—ã–≤–æ–¥—É –æ —Ç–æ–º, —á—Ç–æ –≤—Å–µ –≤–∏–¥—ã –∂–∏–≤—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É—é—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º',
    '–î–∂–µ–π–º—Å –£–∞—Ç—Ç': '–ò–Ω–∂–µ–Ω–µ—Ä, –∏–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å, –≤–≤—ë–ª –ø–µ—Ä–≤—É—é –µ–¥–∏–Ω–∏—Ü—É –º–æ—â–Ω–æ—Å—Ç–∏ ‚Äî –ª–æ—à–∞–¥–∏–Ω—É—é —Å–∏–ª—É. –°–æ–∑–¥–∞–ª —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é –ø–∞—Ä–æ–≤—É—é –º–∞—à–∏–Ω—É –¥–≤–æ–π–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è.',
    '–ú–∞—Ä—Ç–∏–Ω –õ—é—Ç–µ—Ä': '–ù–µ–º–µ—Ü–∫–∏–π —Ö—Ä–∏—Å—Ç–∏–∞–Ω—Å–∫–∏–π –±–æ–≥–æ—Å–ª–æ–≤, –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä –†–µ—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ö–ª—é—á–µ–≤–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å –ø—Ä–æ—Ç–µ—Å—Ç–∞–Ω—Ç–∏–∑–º–∞ ',
    '–î–∂–æ—Ä–¥–∂ –í–∞—à–∏–Ω–≥—Ç–æ–Ω': '–ü–µ—Ä–≤—ã–π –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç –°–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –®—Ç–∞—Ç–æ–≤ –ê–º–µ—Ä–∏–∫–∏, –æ–¥–∏–Ω –∏–∑ –æ—Ç—Ü–æ–≤-–æ—Å–Ω–æ–≤–∞—Ç–µ–ª–µ–π –°–®–ê',
    '–í–∏–ª—å–≥–µ–ª—å–º –†–µ–Ω—Ç–≥–µ–Ω': '–§–∏–∑–∏–∫, –ø–µ—Ä–≤—ã–π –ª–∞—É—Ä–µ–∞—Ç –ù–æ–±–µ–ª–µ–≤—Å–∫–æ–π –ø—Ä–µ–º–∏–∏, –∏–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å —Ä–µ–Ω—Ç–≥–µ–Ω–∞',
    '–ü—ë—Ç—Ä –í–µ–ª–∏–∫–∏–π': '–ü–µ—Ä–≤—ã–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –∏–º–ø–µ—Ä–∞—Ç–æ—Ä, —Ä–∞–∑–≤–µ—Ä–Ω—É–ª –º–∞—Å—à—Ç–∞–±–Ω—ã–µ —Ä–µ—Ñ–æ—Ä–º—ã —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞',
    '–ò–ª–æ–Ω –ú–∞—Å–∫': '–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å –∏ –≥–µ–Ω–¥–∏—Ä–µ–∫—Ç–æ—Ä SpaceX, —Å–∞–º—ã–π –±–æ–≥–∞—Ç—ã–π —á–µ–ª–æ–≤–µ–∫ –≤ –º–∏—Ä–µ –Ω–∞ —Ñ–µ–≤—Ä–∞–ª—å 2025 –≥–æ–¥–∞'
}

user_data = {}


@bot.message_handler(commands=['quiz'])
def start_quiz(message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /quiz"""
    markup = types.InlineKeyboardMarkup(row_width=2)
    buttons = [
        types.InlineKeyboardButton("–ê–Ω—Ç–∏—á–Ω–æ—Å—Ç—å", callback_data='epoch_ancient'),
        types.InlineKeyboardButton("–°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ", callback_data='epoch_middle'),
        types.InlineKeyboardButton("–ù–æ–≤–æ–µ –≤—Ä–µ–º—è", callback_data='epoch_new'),
        types.InlineKeyboardButton("–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å", callback_data='epoch_modern')
    ]
    markup.add(*buttons)
    bot.send_message(message.chat.id, "üéÆ –í—ã–±–µ—Ä–∏—Ç–µ —ç–ø–æ—Ö—É –¥–ª—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã:", reply_markup=markup)


@bot.callback_query_handler(func=lambda call: call.data.startswith('epoch_'))
def choose_epoch(call):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —ç–ø–æ—Ö–∏"""
    chat_id = call.message.chat.id
    epoch = call.data.split('_')[1]

    user_data[chat_id] = {
        'epoch': epoch,
        'current_question': 0,
        'score': 0
    }

    bot.edit_message_text(
        chat_id=chat_id,
        message_id=call.message.message_id,
        text=f"üèÅ –í—ã –≤—ã–±—Ä–∞–ª–∏: {epoch.replace('ancient', '–ê–Ω—Ç–∏—á–Ω–æ—Å—Ç—å').replace('middle', '–°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ').replace('new', '–ù–æ–≤–æ–µ –≤—Ä–µ–º—è').replace('modern', '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å')}"
    )
    ask_question(chat_id)


def ask_question(chat_id):
    """–ó–∞–¥–∞–µ–º –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é"""
    data = user_data.get(chat_id)
    if not data:
        return

    epoch = data['epoch']
    current = data['current_question']

    if current >= len(questions[epoch]):
        # –ó–∞–≤–µ—Ä—à–∞–µ–º –≤–∏–∫—Ç–æ—Ä–∏–Ω—É
        final_score = data['score']
        total = len(questions[epoch])
        del user_data[chat_id]
        bot.send_message(
            chat_id,
            f"üèÜ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!\n"
            f"–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: {final_score}/{total}\n"
            f"–£—Å–ø–µ—Ö: {final_score / total * 100:.1f}%"
        )
        return

    question = questions[epoch][current]
    markup = types.InlineKeyboardMarkup()

    # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
    for i, answer in enumerate(question['answers']):
        callback_data = f"answer_{current}_{i + 1}"
        markup.add(types.InlineKeyboardButton(answer, callback_data=callback_data))

    if question['url']:
        bot.send_photo(chat_id, question['url'])
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å
    bot.send_message(
        chat_id,
        f"‚ùì –í–æ–ø—Ä–æ—Å {current + 1}/{len(questions[epoch])}:\n{question['question']}",
        reply_markup=markup
    )



@bot.callback_query_handler(func=lambda call: call.data.startswith('answer_'))
def handle_answer(call):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    chat_id = call.message.chat.id
    data = user_data.get(chat_id)

    if not data:
        bot.answer_callback_query(call.id, "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞. –ù–∞—á–Ω–∏—Ç–µ –∑–∞–Ω–æ–≤–æ /quiz")
        return

    # –ü–∞—Ä—Å–∏–º –¥–∞–Ω–Ω—ã–µ –∏–∑ callback
    _, question_idx, answer_idx = call.data.split('_')
    question_idx = int(question_idx)
    answer_idx = int(answer_idx)

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –≤–æ–ø—Ä–æ—Å–∞
    if question_idx != data['current_question']:
        bot.answer_callback_query(call.id, "–≠—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å —É–∂–µ –ø—Ä–æ–π–¥–µ–Ω!")
        return

    epoch = data['epoch']
    question = questions[epoch][question_idx]

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç
    if answer_idx == question['right_answer']:
        data['score'] += 1
        feedback = "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!"
    else:
        correct = question['right_answer']
        feedback = f"‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: {question['answers'][correct - 1]}"

    # –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
    data['current_question'] += 1

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    bot.answer_callback_query(call.id)
    bot.send_message(chat_id, feedback)

    # –ó–∞–¥–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
    ask_question(chat_id)


def get_history_fact():
    today = dt.now().strftime('%d_–º–∞—è').lstrip('0')
    url = f"https://ru.wikipedia.org/wiki/{today}"
    response = requests.get(url)
    event = []
    if response.status_code == 200:
        soup = BeautifulSoup(response.text, 'html.parser')
        events = soup.find_all('li')
        for el in events[50:79]:
            event.append(el.get_text())

    return f"–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç \n{str(today).replace('_', ' ')} {choice(event)}"


@bot.message_handler(commands=['fact'])
def random_fact(message):
    bot.send_message(message.chat.id, get_history_fact())


@bot.message_handler(commands=['start', 'help'])
def handle_start(message):
    bot.send_message(message.chat.id,
                     '–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç-–∏—Å—Ç–æ—Ä–∏–∫. –Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Ç–µ–±–µ —Å –∏–∑—É—á–µ–Ω–∏–µ–º –∏—Å—Ç–æ—Ä–∏–∏. –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥: \n /quiz - '
                     '–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ \n /fact - –°–ª—É—á–∞–π–Ω–æ–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ \n /guess_person - –ò–≥—Ä–∞ "–£–≥–∞–¥–∞–π –ª–∏—á–Ω–æ—Å—Ç—å", —è '
                     '–Ω–∞–∑—ã–≤–∞—é –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π –ª–∏—á–Ω–æ—Å—Ç–∏, –∞ –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–Ω—è—Ç—å –∫—Ç–æ —ç—Ç–æ  \n\n\n–°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–∞—à —á–∞—Ç '
                     't.me/+lxmh6J_-aqNiZTQ6')


current_person = None


@bot.message_handler(commands=['guess_person'])
def handle_start(message):
    global current_person
    current_person = choice(list(historical_figures.keys()))
    bot.send_message(message.chat.id, f"{historical_figures[current_person]} \n\n–ù–∞–ø–∏—à–∏—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é/–ø—Ä–æ–∑–≤–∏—â–µ")


@bot.message_handler(func=lambda message: True)
def handle_guess(message):
    global current_person
    if current_person:
        if message.text.lower() in current_person.lower():
            bot.send_message(message.chat.id, f'–í—Å—ë –≤–µ—Ä–Ω–æ, —ç—Ç–æ {current_person}')
        else:
            bot.send_message(message.chat.id, f'–ù–µ–≤–µ—Ä–Ω–æ, —ç—Ç–æ {current_person}')
        current_person = None


if __name__ == '__main__':
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...")
    bot.polling(none_stop=True)
